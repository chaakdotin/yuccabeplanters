<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multiple Image Sections with Sliders</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .image-section {
            height: 616px;
            width: 100%;
            background-color: #f8f9fa; /* Light background */
            display: flex;
            justify-content: flex-start; /* Align content to left */
            margin-bottom: 20px; /* Space between sections */
        }
        .left-images {
            height: 100%;
            width: 25%; /* Narrow slider */
            padding: 0; /* No padding */
            margin: 0; /* No margin */
            overflow: hidden; /* Hide out-of-view images */
            position: relative;
        }
        .slider {
            display: flex;
            flex-direction: column;
            position: absolute;
            top: 0;
            width: 100%;
            transition: transform 0.3s ease; /* Smooth scrolling */
        }
        .slider img {
            width: 100%;
            height: 205.33px; /* 616px / 3 */
            object-fit: cover;
            cursor: pointer; /* Indicate clickability */
            aspect-ratio: 3/4; /* Portrait resolution */
            border: none; /* Default no border */
        }
        .slider img.active {
            border: 2px solid white; /* White border for active image */
        }
        .right-image {
            height: 100%;
            padding: 0; /* No padding */
            margin: 0; /* No margin */
        }
        .right-image img {
            width: 616px; /* Full height of section */
            height: 616px; /* Force square shape */
            object-fit: cover;
        }
        /* Ensure no gaps between columns */
        .row.no-gaps {
            margin: 0;
        }
        .row.no-gaps > * {
            padding: 0;
        }
        @media (max-width: 767.98px) {
            .image-section {
                height: auto;
                flex-direction: column; /* Stack vertically */
                align-items: flex-start; /* Align left */
            }
            .left-images {
                width: 100%; /* Full width for stacking */
                height: 616px; /* Maintain slider height */
            }
            .slider img {
                width: 50%; /* Wider on mobile */
                height: 200px; /* Fixed height */
                aspect-ratio: 3/4; /* Maintain portrait */
            }
            .right-image {
                width: 100%; /* Full width */
            }
            .right-image img {
                width: 300px; /* Square on mobile */
                height: 300px; /* Square */
            }
        }
    </style>
</head>
<body>
    <!-- Section 1 -->
    <div class="image-section" data-section="1">
        <div class="row h-100 no-gaps">
            <!-- Left Section: Vertical Slider -->
            <div class="col-md-6 left-images">
                <div class="slider">
                    <img src="https://images.pexels.com/photos/31023714/pexels-photo-31023714/free-photo-of-stylish-young-man-adjusting-necklace-outdoors.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2" alt="Man adjusting necklace" class="clickable active">
                    <img src="https://images.pexels.com/photos/18001360/pexels-photo-18001360/free-photo-of-woman-with-braids-in-black-t-shirt.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2" alt="Woman with braids" class="clickable">
                    <img src="https://images.pexels.com/photos/20423010/pexels-photo-20423010/free-photo-of-studio-shot-of-model-in-embellished-dress-and-hat.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2" alt="Model in embellished dress" class="clickable">
                    <img src="https://images.pexels.com/photos/1485031/pexels-photo-1485031.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2" alt="Woman in jacket" class="clickable">
                    <img src="https://images.pexels.com/photos/1855582/pexels-photo-1855582.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2" alt="Man in suit" class="clickable">
                    <img src="https://images.pexels.com/photos/5325840/pexels-photo-5325840.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2" alt="Woman in scarf" class="clickable">
                    <img src="https://images.pexels.com/photos/3775120/pexels-photo-3775120.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2" alt="Man in hat" class="clickable">
                </div>
            </div>
            <!-- Right Section: 1 Full-Height Square Image -->
            <div class="col-md-6 right-image">
                <img class="main-image" src="https://images.pexels.com/photos/31023714/pexels-photo-31023714/free-photo-of-stylish-young-man-adjusting-necklace-outdoors.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2" alt="Main Image">
            </div>
        </div>
    </div>


    <!-- Bootstrap JS (Optional) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JavaScript for Multiple Sliders -->
    <script>
        const imageSections = document.querySelectorAll('.image-section');
        const imageHeight = 205.33; // Height of each image (616px / 3)
        const containerHeight = 616; // Section height

        imageSections.forEach(section => {
            const clickableImages = section.querySelectorAll('.clickable');
            const mainImage = section.querySelector('.main-image');
            const slider = section.querySelector('.slider');
            const totalImages = clickableImages.length;

            function centerActiveImage(activeImg) {
                const index = Array.from(clickableImages).indexOf(activeImg);
                const sliderHeight = totalImages * imageHeight;

                // Calculate ideal offset to center the active image
                let offset = index * imageHeight + imageHeight / 2 - containerHeight / 2;

                // Prevent scrolling too far up (keep 1st image at top)
                if (offset < 0) {
                    offset = 0;
                }

                // Prevent scrolling too far down (keep last image at bottom)
                const maxOffset = sliderHeight - containerHeight;
                if (offset > maxOffset) {
                    offset = maxOffset;
                }

                // Apply the transform
                slider.style.transform = `translateY(-${offset}px)`;
            }

            clickableImages.forEach(img => {
                img.addEventListener('click', () => {
                    // Update main image
                    mainImage.src = img.src;
                    mainImage.alt = img.alt;

                    // Remove active class from all images in this section
                    clickableImages.forEach(i => i.classList.remove('active'));
                    // Add active class to clicked image
                    img.classList.add('active');

                    // Center the active image with constraints
                    centerActiveImage(img);
                });
            });

            // Center the initial active image on load
            centerActiveImage(section.querySelector('.clickable.active'));
        });
    </script>
</body>
</html>